<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–•—Ä–∞–º –ó–Ω–∞–º–µ–Ω–∏—è –ü—Ä–µ—Å–≤—è—Ç–æ–π –ë–æ–≥–æ—Ä–æ–¥–∏—Ü—ã –≤ –ü–∞—Ä–∏–∂–µ</title>

  <!-- SEO -->
  <meta name="description" content="–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç –•—Ä–∞–º–∞ –ó–Ω–∞–º–µ–Ω–∏—è –ü—Ä–µ—Å–≤—è—Ç–æ–π –ë–æ–≥–æ—Ä–æ–¥–∏—Ü—ã –≤ –ü–∞—Ä–∏–∂–µ. –ü—Ä–∞–≤–æ—Å–ª–∞–≤–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –±–æ–≥–æ—Å–ª—É–∂–µ–Ω–∏–π, –∞–¥—Ä–µ—Å, –∫–æ–Ω—Ç–∞–∫—Ç—ã. √âglise Orthodoxe Notre-Dame Du Signe √† Paris." />
  <meta name="keywords" content="—Ö—Ä–∞–º, –ø—Ä–∞–≤–æ—Å–ª–∞–≤–∏–µ, –ü–∞—Ä–∏–∂, –ë–æ–≥–æ—Ä–æ–¥–∏—Ü–∞, √âglise Orthodoxe, Notre-Dame du Signe, Paris, –±–æ–≥–æ—Å–ª—É–∂–µ–Ω–∏–µ, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, –ø—Ä–∞–≤–æ—Å–ª–∞–≤–Ω—ã–π –ø—Ä–∏—Ö–æ–¥, —Ü–µ—Ä–∫–æ–≤—å" />
  <link rel="alternate" href="https://znamenie.fr/" hreflang="ru" />
  <link rel="alternate" href="https://znamenie.fr/" hreflang="fr" />
  <link rel="alternate" href="https://znamenie.fr/" hreflang="be" />
  <link rel="alternate" href="https://znamenie.fr/" hreflang="uk" />
  <meta property="og:title" content="–•—Ä–∞–º –ó–Ω–∞–º–µ–Ω–∏—è –ü—Ä–µ—Å–≤—è—Ç–æ–π –ë–æ–≥–æ—Ä–æ–¥–∏—Ü—ã –≤ –ü–∞—Ä–∏–∂–µ" />
  <meta property="og:description" content="–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç –ø—Ä–∏—Ö–æ–¥–∞. –ê–∫—Ç—É–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –±–æ–≥–æ—Å–ª—É–∂–µ–Ω–∏–π, –∫–æ–Ω—Ç–∞–∫—Ç—ã, –∞–¥—Ä–µ—Å." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://znamenie.fr/" />
  <meta property="og:image" content="https://znamenie.fr/assets/icon.gif" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="–•—Ä–∞–º –ó–Ω–∞–º–µ–Ω–∏—è –ü—Ä–µ—Å–≤—è—Ç–æ–π –ë–æ–≥–æ—Ä–æ–¥–∏—Ü—ã –≤ –ü–∞—Ä–∏–∂–µ" />
  <meta name="twitter:description" content="–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç –ø—Ä–∏—Ö–æ–¥–∞. –ê–∫—Ç—É–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –±–æ–≥–æ—Å–ª—É–∂–µ–Ω–∏–π, –∫–æ–Ω—Ç–∞–∫—Ç—ã, –∞–¥—Ä–µ—Å." />
  <meta name="twitter:image" content="https://znamenie.fr/assets/icon.gif" />

  <link rel="icon" href="assets/icon.gif" type="image/gif" />
  <link href="https://fonts.googleapis.com/css2?family=Forum&family=Open+Sans&family=Roboto+Mono&display=swap" rel="stylesheet" />
  <style>
    :root{
      --bg:#ede6d9;
      --ink:#2f2f2f;
      --gold:#a2906f;
      --card-max:1040px;
      --gap:18px;
    }

    body { margin:0; padding:0; background:var(--bg); font-family:'Open Sans',sans-serif; color:var(--ink); text-align:center; }
    .overlay { padding:2rem 1rem 3rem; max-width:var(--card-max); margin:auto; position:relative; }

    /* —è–∑—ã–∫–∏ */
    .lang-switch { position:absolute; top:1rem; right:1rem; font-size:.9em; display:flex; gap:.8em; z-index:100; }
    .lang-switch span { cursor:pointer; color:#666; font-weight:600; letter-spacing:.1em; padding:.1em .2–µ–º; border-radius:2px; }
    .lang-switch span.active { color:#2f2f2f; font-weight:700; }
    .lang-switch span:hover { color:#a2906f; }

    /* —à–∞–ø–∫–∞ */
    header { display:flex; flex-direction:column; align-items:center; margin-bottom:1.5rem; position:relative; }
    .logo-block { display:flex; flex-direction:row; justify-content:space-between; width:100%; align-items:center; }
    .logo-text { display:flex; flex-direction:column; justify-content:center; font-family:'Forum',serif; font-size:2.4em; flex:1; }
    .logo-text.left { text-align:right; } .logo-text.right { text-align:left; }
    .logo-text span { display:block; }
    .logo-block img { height:140px; margin:0 1em; }
    .subheading { font-size:1em; margin-top:.6rem; font-family:'Forum',serif; }

    /* —Å–µ—Ç–∫–∞ */
    .content { display:grid; grid-template-columns: repeat(12, minmax(0, 1fr)); gap:var(--gap); align-items:start; }
    .schedule-wrap { grid-column: 1 / -1; }

    /* —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ ‚Äî –∫–æ–º–ø–∞–∫—Ç–Ω–æ, –≤—Ä–æ–≤–µ–Ω—å —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ */
    .schedule{
      position:relative;
      text-align:left;
      background:#fff;
      padding:.9em 1.1em 2.2em 1.1em; /* –º–µ—Å—Ç–æ –ø–æ–¥ —Å—Ç—Ä–µ–ª–∫—É */
      border-radius:8px;
      font-size:1em;
      margin:0;
      width:auto;
      max-width:100%;
      box-sizing:border-box;
      cursor:pointer; user-select:none; min-width:0;
    }
    .schedule::before{
      content:""; position:absolute; top:10px; left:10px; right:10px; bottom:10px;
      border:3px double var(--gold); pointer-events:none; border-radius:8px; box-sizing:border-box;
    }
    .schedule-label, .schedule-month { font-family:'Forum',serif; font-weight:bold; text-align:center; }
    .schedule-label { font-size:1.28em; margin:.4em 0 .75em 0; }
    .schedule-month { font-size:1.2em; letter-spacing:.02em; margin:.35em 0 .25em 0; }
    .schedule ul { margin:.1em 0 .75em 1.4em; padding:0; }
    .schedule ul li, .schedule ul li *{ margin:.2em 0; text-decoration:none !important; }

    /* —Å—Ç—Ä–µ–ª–∫–∞ ‚Äî –≤–Ω—É—Ç—Ä–∏, –±–µ–∑ —Ä–∞–º–æ–∫/–∞–Ω–∏–º–∞—Ü–∏–∏, –≤ —Ü–≤–µ—Ç –¥–≤–æ–π–Ω–æ–π –ª–∏–Ω–∏–∏ */
    .chevron{
      position:absolute; left:50%; bottom:10px; transform:translate(-50%, 50%);
      font-size:.6rem; line-height:1; color:var(--gold);
      pointer-events:none; background:#fff; padding:0 .15em;
    }

    /* –∫–∞—Ä—Ç–æ—á–∫–∏ */
    .cards { grid-column: 1 / -1; display:grid; grid-template-columns: repeat(3, 1fr); gap:var(--gap); margin-top:1.2rem; }
    .card {
      background:#fff; border-radius:8px; overflow:hidden; text-align:left;
      transition:transform .15s ease, box-shadow .15s ease;
      box-shadow:0 1px 0 rgba(0,0,0,.02);
    }
    .card:focus, .card:hover { transform:translateY(-2px); box-shadow:0 6px 16px rgba(0,0,0,.08); outline:none; }
    .card:focus-visible{ outline:2px dashed var(--gold); outline-offset:3px; }

    /* –ö–≤–∞–¥—Ä–∞—Ç–Ω–∞—è –º–µ–¥–∏–∞–∑–æ–Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ ‚Äî –≤—Å–µ–≥–¥–∞ 1:1 */
    .card-media{ position:relative; width:100%; aspect-ratio:1/1; }
    @supports not (aspect-ratio: 1 / 1){
      .card-media::before{ content:""; display:block; padding-top:100%; }
    }
    .card-media .media-inner{ position:absolute; inset:0; }
    .card-media picture, .card-media img{ width:100%; height:100%; display:block; object-fit:cover; }

    .card .card-body { padding:.8rem .9rem 1rem; }
    .card h3 { margin:0 0 .35rem 0; font-family:'Forum',serif; font-size:1.15rem; }
    .card p { margin:0; font-size:.95rem; line-height:1.35; color:#464646; }

    /* ==== MODAL: —Å–∫—Ä–æ–ª–ª –≤—Å–µ–≥–æ –æ–∫–Ω–∞ + —Ñ–æ—Ç–æ —Å–ª–µ–≤–∞ –º–µ–Ω—å—à–µ + "–ß–∏—Ç–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é" ==== */
    .modal{
      position: fixed; inset: 0;
      display: none;
      align-items: flex-start;            /* –≤—ã–≥–ª—è–¥–∏–º –∫–∞–∫ ¬´–ª–∏—Å—Ç¬ª */
      justify-content: center;
      background: rgba(0,0,0,.5);
      overflow-y: auto;                   /* —Å–∫—Ä–æ–ª–ª —É –≤—Å–µ–≥–æ –æ–≤–µ—Ä–ª–µ—è */
      -webkit-overflow-scrolling: touch;
      z-index: 1000;
    }
    .modal.open{ display:flex; }
    body.modal-open{ overflow: hidden; }

    .modal-dialog{
      background: #fff;
      border-radius: 12px;
      width: 92vw; max-width: min(1000px, 92vw);
      height: auto; max-height: none;
      margin: 4vh auto;
      display: flex; flex-direction: column;
      overflow: visible;
      box-shadow: 0 20px 40px rgba(0,0,0,.25);
    }
    .modal-header{ display:flex; align-items:center; justify-content:space-between; padding:.75rem 1rem; border-bottom:1px solid rgba(0,0,0,.08); }
    .modal-title{ font-family:'Forum',serif; font-size:1.4rem; margin:0; }
    .modal-close{ background:none; border:none; font-size:1.3rem; line-height:1; cursor:pointer; padding:.25rem .4rem; }
    .modal-close:focus{ outline:2px dashed var(--gold); outline-offset:3px; }

    .modal-hero{ display:none; } /* –≤–µ—Ä—Ö–Ω–∏–π hero –Ω–µ –Ω—É–∂–µ–Ω */
    .modal-body{ padding: 1rem 1rem 1.4rem; overflow: visible; text-align: left; flex: 1 1 auto; }
    .modal-body p{ margin:.6rem 0; line-height:1.5; }

    /* —Ñ–æ—Ç–æ —Å–ª–µ–≤–∞ —Å –æ–±—Ç–µ–∫–∞–Ω–∏–µ–º, —É–º–µ–Ω—å—à–µ–Ω–æ –ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ —Ç—Ä–µ—Ç—å */
    .lead-figure{
      float: left;
      width: min(28%, 300px);
      margin: 0 1.1rem .6rem 0;
      border-radius: 8px; overflow: hidden;
    }
    .lead-figure picture, .lead-figure img{ display:block; width:100%; height:auto; object-fit:cover; }

    /* "–ß–∏—Ç–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é" */
    .read-more{ margin: 1.2rem 0 0; text-align:center; }
    .read-more a{
      font-family:'Forum',serif;
      text-decoration:none;
      border-bottom:1px dashed rgba(0,0,0,.35);
      padding-bottom:.05rem; color:#2f2f2f;
    }
    .read-more a:hover{ color:#a2906f; border-bottom-color:#a2906f; }

    @media (max-width:900px){
      .logo-block img{height:120px}
      .cards{grid-template-columns:repeat(2,1fr)}
    }
    @media (max-width:640px){
      .logo-block{flex-direction:column;text-align:center}
      .logo-text.left,.logo-text.right{text-align:center}
      .logo-block img{margin:1em 0}
      .cards{grid-template-columns:1fr}
      .modal-dialog{ width:100vw; max-width:100vw; margin:0; border-radius:0; }
      .lead-figure{ float:none; width:auto; margin:0 0 .8rem 0; } /* —Ñ–æ—Ç–æ —Å–≤–µ—Ä—Ö—É */
    }

    /* —Ñ—É—Ç–µ—Ä */
    .footer { margin-top:2rem; font-size:.92em; color:#555; }
    .footer .admin-gear { text-decoration:none; margin-left:.35em; font-size:1em; color:#666; padding:.05em .35em; border-radius:6px; }
    .footer .admin-gear:hover { background:rgba(0,0,0,.06); color:#2f2f2f; }
  </style>
</head>
<body>
  <div class="overlay">

    <div class="lang-switch" role="group" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —è–∑—ã–∫–æ–≤">
      <span class="active" data-lang="ru">RU</span>
      <span data-lang="fr">FR</span>
      <span data-lang="by">BY</span>
      <span data-lang="ua">UA</span>
    </div>

    <header>
      <div class="logo-block">
        <div class="logo-text left" id="logo-left">
          <span>–•—Ä–∞–º</span>
          <span>–ó–Ω–∞–º–µ–Ω–∏—è</span>
        </div>
        <img src="assets/icon.gif" alt="–ò–∫–æ–Ω–∞ –ë–æ–≥–æ—Ä–æ–¥–∏—Ü—ã" />
        <div class="logo-text right" id="logo-right">
          <span>–ü—Ä–µ—Å–≤—è—Ç–æ–π</span>
          <span>–ë–æ–≥–æ—Ä–æ–¥–∏—Ü—ã</span>
        </div>
      </div>
      <div class="subheading" id="subheading">
        –í–∏–∫–∞—Ä–∏–∞—Ç –∏–º–µ–Ω–∏ –°–≤—è—Ç—ã—Ö –ú–∞—Ä–∏–∏ –ü–∞—Ä–∏–∂—Å–∫–æ–π –∏ –ê–ª–µ–∫—Å–∏—è –Æ–∂–∏–Ω—Å–∫–æ–≥–æ ‚Äî –í—Å–µ–ª–µ–Ω—Å–∫–∏–π –ü–∞—Ç—Ä–∏–∞—Ä—Ö–∞—Ç
      </div>
    </header>

    <main class="content">
      <!-- ===== –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ ===== -->
      <section class="schedule-wrap">
        <div class="schedule" id="schedule-box" role="button" tabindex="0" aria-expanded="false" aria-label="–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å—ë —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ">
          <div class="schedule-label" id="schedule-label-1">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –±–æ–≥–æ—Å–ª—É–∂–µ–Ω–∏–π</div>
          <div class="schedule-month" id="current-label">–ò–Æ–õ–¨</div>
          <ul id="schedule-compact"></ul>

          <!-- –ü–æ–ª–Ω—ã–π —Ä–µ–∂–∏–º -->
          <div class="schedule-month" id="month-a" style="display:none;"></div>
          <ul id="list-a" style="display:none;"></ul>
          <div class="schedule-month" id="month-b" style="display:none;"></div>
          <ul id="list-b" style="display:none;"></ul>

          <div class="chevron" id="chevron">‚ñº</div>
        </div>
      </section>

      <!-- ===== –ö–∞—Ä—Ç–æ—á–∫–∏ ===== -->
      <section class="cards" aria-label="–†–∞–∑–¥–µ–ª—ã —Å–∞–π—Ç–∞" id="cards"></section>
    </main>

    <div class="footer" id="footer">
      87, boulevard Exelmans, Paris 75016<br />
      M√©t—Ä–æ: Exelmans (ligne 9)<br />
      ‚úâÔ∏è <a id="email" href="mailto:ndsigne@gmail.com">ndsigne@gmail.com</a>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª –∫–∞—Ä—Ç–æ—á–∫–∏ -->
  <div class="modal" id="card-modal" aria-hidden="true" aria-labelledby="modal-title" role="dialog">
    <div class="modal-dialog" role="document">
      <header class="modal-header">
        <h2 class="modal-title" id="modal-title"></h2>
        <button class="modal-close" id="modal-close" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
      </header>
      <div class="modal-hero" id="modal-hero"></div>
      <div class="modal-body" id="modal-body"></div>
    </div>
  </div>

  <script>
    /* ===================== –ü–µ—Ä–µ–≤–æ–¥—ã (–∫—Ä–∞—Ç–∫–∏–µ –∞–Ω–æ–Ω—Å—ã + –∫–∞—Ä—Ç–æ—á–∫–∏) ===================== */
    const translations = {
      ru: {
      logoLeft: ["–•—Ä–∞–º","–ó–Ω–∞–º–µ–Ω–∏—è"],
      logoRight: ["–ü—Ä–µ—Å–≤—è—Ç–æ–π","–ë–æ–≥–æ—Ä–æ–¥–∏—Ü—ã"],
      subheading: "–í–∏–∫–∞—Ä–∏–∞—Ç –∏–º–µ–Ω–∏ –°–≤—è—Ç—ã—Ö –ú–∞—Ä–∏–∏ –ü–∞—Ä–∏–∂—Å–∫–æ–π –∏ –ê–ª–µ–∫—Å–∏—è –Æ–∂–∏–Ω—Å–∫–æ–≥–æ ‚Äî –í—Å–µ–ª–µ–Ω—Å–∫–∏–π –ü–∞—Ç—Ä–∏–∞—Ä—Ö–∞—Ç",
      scheduleLabel1: "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –±–æ–≥–æ—Å–ª—É–∂–µ–Ω–∏–π",
      currentLabel: "–ù–û–Ø–ë–†–¨",
      nextLabel: "–î–ï–ö–ê–ë–†–¨",
      scheduleCurrent: [
        "<strong>1 —Å—É–±–±–æ—Ç–∞, 10:00</strong>&nbsp;&ndash; –ó–∞—É–ø–æ–∫–æ–π–Ω–∞—è –õ–∏—Ç—É—Ä–≥–∏—è –∏&nbsp;–æ–±—â–∞—è –ø–∞–Ω–∏—Ö–∏–¥–∞ (–î–∏–º–∏—Ç—Ä–∏–µ–≤—Å–∫–∞—è —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è —Å—É–±–±–æ—Ç–∞)",
        "<strong>1 —Å—É–±–±–æ—Ç–∞, 18:00</strong>&nbsp;&ndash; –í—Å–µ–Ω–æ—â–Ω–æ–µ –±–¥–µ–Ω–∏–µ. 21-—è –ù–µ–¥–µ–ª—è –ø–æ –ü—è—Ç–∏–¥–µ—Å—è—Ç–Ω–∏—Ü–µ, –≥–ª–∞—Å 4-–π",
        "<strong>2 –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 10:30</strong>&nbsp;&ndash; –õ–∏—Ç—É—Ä–≥–∏—è. –ü–∞–º—è—Ç—å –ø—Ä–µ–ø–æ–¥–æ–±–Ω–æ–≥–æ –ì–∞–≤—Ä–∏–∏–ª–∞ –°–∞–º—Ç–∞–≤—Ä–∏–π—Å–∫–æ–≥–æ",
        "<strong>8 —Å—É–±–±–æ—Ç–∞, 18:00</strong>&nbsp;&ndash; –í—Å–µ–Ω–æ—â–Ω–æ–µ –±–¥–µ–Ω–∏–µ. 22-—è –ù–µ–¥–µ–ª—è –ø–æ –ü—è—Ç–∏–¥–µ—Å—è—Ç–Ω–∏—Ü–µ, –≥–ª–∞—Å 5-–π",
        "<strong>9 –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 10:30</strong>&nbsp;&ndash; –õ–∏—Ç—É—Ä–≥–∏—è. –ü–∞–º—è—Ç—å –º—É—á–µ–Ω–∏–∫–∞ –ù–µ—Å—Ç–æ—Ä–∞ –°–æ–ª—É–Ω—Å–∫–æ–≥–æ",
        "<strong>15 —Å—É–±–±–æ—Ç–∞, 18:00</strong>&nbsp;&ndash; –í—Å–µ–Ω–æ—â–Ω–æ–µ –±–¥–µ–Ω–∏–µ. 23-—è –ù–µ–¥–µ–ª—è –ø–æ –ü—è—Ç–∏–¥–µ—Å—è—Ç–Ω–∏—Ü–µ, –≥–ª–∞—Å 6-–π",
        "<strong>16 –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 10:30</strong>&nbsp;&ndash; –õ–∏—Ç—É—Ä–≥–∏—è. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ö—Ä–∞–º–∞ –≤–µ–ª–∏–∫–æ–º—É—á–µ–Ω–∏–∫–∞ –ì–µ–æ—Ä–≥–∏—è –≤ –õ–∏–¥–¥–µ",
        "<strong>22 —Å—É–±–±–æ—Ç–∞, 18:00</strong>&nbsp;&ndash; –í—Å–µ–Ω–æ—â–Ω–æ–µ –±–¥–µ–Ω–∏–µ. 24-—è –ù–µ–¥–µ–ª—è –ø–æ –ü—è—Ç–∏–¥–µ—Å—è—Ç–Ω–∏—Ü–µ, –≥–ª–∞—Å 7-–π",
        "<strong>23 –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 10:30</strong>&nbsp;&ndash; –õ–∏—Ç—É—Ä–≥–∏—è. –ê–ø–ø. –æ—Ç 70-—Ç–∏: –ï—Ä–∞—Å—Ç, –û–ª–∏–º–ø, –†–æ–¥–∏–æ–Ω, –°–æ—Å–∏–ø–∞—Ç—Ä, –ö–≤–∞—Ä—Ç –∏&nbsp;–¢–µ—Ä—Ç–∏–∏",
        "<strong>29 —Å—É–±–±–æ—Ç–∞, 18:00</strong>&nbsp;&ndash; –í—Å–µ–Ω–æ—â–Ω–æ–µ –±–¥–µ–Ω–∏–µ. 25-—è –ù–µ–¥–µ–ª—è –ø–æ –ü—è—Ç–∏–¥–µ—Å—è—Ç–Ω–∏—Ü–µ, –≥–ª–∞—Å 8-–π",
        "<strong>30 –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 10:30</strong>&nbsp;&ndash; –õ–∏—Ç—É—Ä–≥–∏—è. –°–≤—è—Ç–∏—Ç–µ–ª—å –ì—Ä–∏–≥–æ—Ä–∏–π, –µ–ø. –ù–µ–æ–∫–µ—Å–∞—Ä–∏–π—Å–∫–∏–π"
      ],
      scheduleNext: [
        "<strong>3 —Å—Ä–µ–¥–∞, 18:00</strong>&nbsp;&ndash; –í—Å–µ–Ω–æ—â–Ω–∞—è. –ö–∞–Ω—É–Ω –í–≤–µ–¥–µ–Ω–∏—è –≤–æ —Ö—Ä–∞–º –ü—Ä–µ—Å–≤—è—Ç–æ–π –ë–æ–≥–æ—Ä–æ–¥–∏—Ü—ã",
        "<strong>4 —á–µ—Ç–≤–µ—Ä–≥, 10:00</strong>&nbsp;&ndash; –õ–∏—Ç—É—Ä–≥–∏—è. –í–≤–µ–¥–µ–Ω–∏–µ –≤–æ —Ö—Ä–∞–º –ü—Ä–µ—Å–≤—è—Ç–æ–π –ë–æ–≥–æ—Ä–æ–¥–∏—Ü—ã",
        "<strong>6 —Å—É–±–±–æ—Ç–∞, 18:00</strong>&nbsp;&ndash; –í—Å–µ–Ω–æ—â–Ω–æ–µ –±–¥–µ–Ω–∏–µ. 26-—è –ù–µ–¥–µ–ª—è –ø–æ –ü—è—Ç–∏–¥–µ—Å—è—Ç–Ω–∏—Ü–µ, –≥–ª–∞—Å 1-–π",
        "<strong>7 –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 10:30</strong>&nbsp;&ndash; –õ–∏—Ç—É—Ä–≥–∏—è. –í–º—Ü. –ï–∫–∞—Ç–µ—Ä–∏–Ω–∞",
        "<strong>13 —Å—É–±–±–æ—Ç–∞, 18:00</strong>&nbsp;&ndash; –í—Å–µ–Ω–æ—â–Ω–æ–µ –±–¥–µ–Ω–∏–µ. 27-—è –ù–µ–¥–µ–ª—è –ø–æ –ü—è—Ç–∏–¥–µ—Å—è—Ç–Ω–∏—Ü–µ, –≥–ª–∞—Å 2-–π",
        "<strong>14 –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 10:30</strong>&nbsp;&ndash; –õ–∏—Ç—É—Ä–≥–∏—è. –ü—Ä–æ—Ä–æ–∫ –ù–∞—É–º",
        "<strong>20 —Å—É–±–±–æ—Ç–∞, 18:00</strong>&nbsp;&ndash; –í—Å–µ–Ω–æ—â–Ω–æ–µ –±–¥–µ–Ω–∏–µ. 28-—è –ù–µ–¥–µ–ª—è –ø–æ –ü—è—Ç–∏–¥–µ—Å—è—Ç–Ω–∏—Ü–µ, –≥–ª–∞—Å 3-–π",
        "<strong>21 –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 10:30</strong>&nbsp;&ndash; –õ–∏—Ç—É—Ä–≥–∏—è. –ü—Ä–ø. –ü–∞—Ç–∞–ø–∏–π",
        "<strong>27 —Å—É–±–±–æ—Ç–∞, 18:00</strong>&nbsp;&ndash; –í—Å–µ–Ω–æ—â–Ω–æ–µ –±–¥–µ–Ω–∏–µ. 29-—è –ù–µ–¥–µ–ª—è –ø–æ –ü—è—Ç–∏–¥–µ—Å—è—Ç–Ω–∏—Ü–µ, –≥–ª–∞—Å 4-–π",
        "<strong>28 –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 10:30</strong>&nbsp;&ndash; –õ–∏—Ç—É—Ä–≥–∏—è. –ù–µ–¥–µ–ª—è –°–≤—è—Ç—ã—Ö –ü—Ä–∞–æ—Ç–µ—Ü"
      ],
      cards: [
        { id:"history",  img:"history",  title:"–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∏—Ö–æ–¥–∞",  desc:"–ö–∞–∫ –æ–±—â–∏–Ω–∞ –±–µ–ª–æ–π —ç–º–∏–≥—Ä–∞—Ü–∏–∏ —Å—Ç–∞–ª–∞ –¥–æ–º–æ–º –≤ –ü–∞—Ä–∏–∂–µ.",  articleHtml:"<p>–ö—Ä–∞—Ç–∫–∏–π –æ—á–µ—Ä–∫ –æ–± –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–∏—Ö–æ–¥–∞.</p>" },
        { id:"clergy",   img:"clergy",   title:"–ö–ª–∏—Ä–∏–∫–∏ —Ö—Ä–∞–º–∞",    desc:"–ù–∞—Å—Ç–æ—è—Ç–µ–ª—å –ø—Ä–æ—Ç. –í–ª–∞–¥–∏–º–∏—Ä –Ø–≥–µ–ª–ª–æ, —Å–≤—è—â. –ê–ª–µ–∫—Å–µ–π –£–º–∏–Ω—Å–∫–∏–π.",  articleHtml:"<p>–°–≤–µ–¥–µ–Ω–∏—è –æ –∫–ª–∏—Ä–µ.</p>" },
        { id:"school",   img:"school",   title:"–í–æ—Å–∫—Ä–µ—Å–Ω–∞—è —à–∫–æ–ª–∞", desc:"–î–µ—Ç—Å–∫–∏–µ –∏ –≤–∑—Ä–æ—Å–ª—ã–µ –≥—Ä—É–ø–ø—ã –ø–æ—Å–ª–µ –ª–∏—Ç—É—Ä–≥–∏–∏.", articleHtml:"<p>–û —à–∫–æ–ª–µ –∏ –∑–∞–ø–∏—Å–∏.</p>" },
        { id:"icons",    img:"icons",    title:"–ò–∫–æ–Ω—ã",            desc:"–ü–æ—á–∏—Ç–∞–µ–º—ã–µ –æ–±—Ä–∞–∑—ã, –º–æ–ª–∏—Ç–≤—ã, –ø—Ä–∞–∫—Ç–∏–∫–∞.",      articleHtml:"<p>–û —Å–≤—è—Ç—ã–Ω—è—Ö —Ö—Ä–∞–º–∞.</p>" },
        { id:"white",    img:"white",    title:"–ë–µ–ª–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ",   desc:"–ü–∞–º—è—Ç—å –†—É—Å—Å–∫–æ–≥–æ –∏—Å—Ö–æ–¥–∞ –∏ —Ä–∞–±–æ—Ç–∞ —Å –∞—Ä—Ö–∏–≤–∞–º–∏.", articleHtml:"<p>–û –ø–∞–º—è—Ç–∏ –∏ –ø—Ä–æ–µ–∫—Ç–∞—Ö.</p>" },
        { id:"library",  img:"library",  title:"–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞",       desc:"–§–æ–Ω–¥, –≤—ã–¥–∞—á–∞ –Ω–∞ –¥–æ–º, –¥–∞—Ä–µ–Ω–∏–µ –∫–Ω–∏–≥.",          articleHtml:"<p>–û —Ñ–æ–Ω–¥–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.</p>" }
      ],
      footer: `87, boulevard Exelmans, Paris 75016<br />–ú–µ—Ç—Ä–æ: Exelmans (ligne 9)<br />‚úâÔ∏è <a id="email" href="mailto:ndsigne@gmail.com">ndsigne@gmail.com</a>`
    },

    fr: {
      logoLeft: ["Paroisse","Orthodoxe"],
      logoRight: ["Notre-Dame","du Signe"],
      subheading: "Vicariat Sainte-Marie-de-Paris et Saint-Alexis-d‚ÄôUgine ‚Äì Patriarcat ≈ícum√©nique",
      scheduleLabel1: "Horaires des offices",
      currentLabel: "NOVEMBRE",
      nextLabel: "D√âCEMBRE",
      scheduleCurrent: [
        "<strong>1 samedi, 10:00</strong>&nbsp;&ndash; Liturgie pour les d√©funts et pannychide<br>Samedi des d√©funts de Dimitri",
        "<strong>1 samedi, 18:00</strong>&nbsp;&ndash; Vigiles<br>21<sup>e</sup>&nbsp;Dimanche apr√®s la&nbsp;Pentec√¥te&nbsp;&ndash; 4<sup>e</sup>&nbsp;ton",
        "<strong>2 dimanche, 10:30</strong>&nbsp;&ndash; Liturgie<br>Saint Gabriel (Ourgu√©badz√©)",
        "<strong>8 samedi, 18:00</strong>&nbsp;&ndash; Vigiles<br>22<sup>e</sup>&nbsp;Dimanche apr√®s la&nbsp;Pentec√¥te&nbsp;&ndash; 5<sup>e</sup>&nbsp;ton",
        "<strong>9 dimanche, 10:30</strong>&nbsp;&ndash; Liturgie<br>Saint Nestor de Salonique",
        "<strong>15 samedi, 18:00</strong>&nbsp;&ndash; Vigiles<br>23<sup>e</sup>&nbsp;Dimanche apr√®s la&nbsp;Pentec√¥te&nbsp;&ndash; 6<sup>e</sup>&nbsp;ton",
        "<strong>16 dimanche, 10:30</strong>&nbsp;&ndash; Liturgie<br>D√©dicace de l‚Äô√âglise Saint-Georges √† Lydda",
        "<strong>22 samedi, 18:00</strong>&nbsp;&ndash; Vigiles<br>24<sup>e</sup>&nbsp;Dimanche apr√®s la&nbsp;Pentec√¥te&nbsp;&ndash; 7<sup>e</sup>&nbsp;ton",
        "<strong>23 dimanche, 10:30</strong>&nbsp;&ndash; Liturgie<br>Saints Ap√¥tres Eraste, Olympe, Rodion, Sosipater, Quartus et Tertius",
        "<strong>29 samedi, 18:00</strong>&nbsp;&ndash; Vigiles<br>25<sup>e</sup>&nbsp;Dimanche apr√®s la&nbsp;Pentec√¥te&nbsp;&ndash; 8<sup>e</sup>&nbsp;ton",
        "<strong>30 dimanche, 10:30</strong>&nbsp;&ndash; Liturgie<br>Saint Gr√©goire de N√©oc√©sar√©e"
      ],
      scheduleNext: [
        "<strong>3 mercredi, 18:00</strong>&nbsp;&ndash; Vigiles<br>Veille de la Pr√©sentation de la Tr√®s Sainte M√®re de Dieu au Temple",
        "<strong>4 jeudi, 10:00</strong>&nbsp;&ndash; Liturgie<br>Pr√©sentation de la Tr√®s Sainte M√®re de Dieu au Temple",
        "<strong>6 samedi, 18:00</strong>&nbsp;&ndash; Vigiles<br>26<sup>e</sup>&nbsp;Dimanche apr√®s la&nbsp;Pentec√¥te&nbsp;&ndash; 1<sup>er</sup>&nbsp;ton",
        "<strong>7 dimanche, 10:30</strong>&nbsp;&ndash; Liturgie<br>Sainte Catherine d‚ÄôAlexandrie",
        "<strong>13 samedi, 18:00</strong>&nbsp;&ndash; Vigiles<br>27<sup>e</sup>&nbsp;Dimanche apr√®s la&nbsp;Pentec√¥te&nbsp;&ndash; 2<sup>e</sup>&nbsp;ton",
        "<strong>14 dimanche, 10:30</strong>&nbsp;&ndash; Liturgie<br>Saint Proph√®te Nahum",
        "<strong>20 samedi, 18:00</strong>&nbsp;&ndash; Vigiles<br>28<sup>e</sup>&nbsp;Dimanche apr√®s la&nbsp;Pentec√¥te&nbsp;&ndash; 3<sup>e</sup>&nbsp;ton",
        "<strong>21 dimanche, 10:30</strong>&nbsp;&ndash; Liturgie<br>Saint Patapios",
        "<strong>27 samedi, 18:00</strong>&nbsp;&ndash; Vigiles<br>29<sup>e</sup>&nbsp;Dimanche apr√®s la&nbsp;Pentec√¥te&nbsp;&ndash; 4<sup>e</sup>&nbsp;ton",
        "<strong>28 dimanche, 10:30</strong>&nbsp;&ndash; Liturgie<br>Dimanche des Saints Anc√™tres du Christ"
      ],
      cards: [
        { id:"history",  img:"history",  title:"Histoire de la paroisse",  desc:"La diaspora russe √† Paris.",  articleHtml:"<p>Texte court.</p>" },
        { id:"clergy",   img:"clergy",   title:"Clerg√©",                   desc:"Recteur et pr√™tre.",         articleHtml:"<p>Texte court.</p>" },
        { id:"school",   img:"school",   title:"√âcole du dimanche",        desc:"Horaires et groupes.",       articleHtml:"<p>Texte court.</p>" },
        { id:"icons",    img:"icons",    title:"Ic√¥nes",                   desc:"Images v√©n√©r√©es.",           articleHtml:"<p>Texte court.</p>" },
        { id:"white",    img:"white",    title:"Mouvement blanc",          desc:"M√©moire de l‚Äôexil.",         articleHtml:"<p>Texte court.</p>" },
        { id:"library",  img:"library",  title:"Biblioth√®que",             desc:"Catalogue et r√®gles.",       articleHtml:"<p>Texte court.</p>" }
      ],
      footer: `87, boulevard Exelmans, Paris 75016<br />M√©t—Ä–æ : Exelmans (ligne 9)<br />‚úâÔ∏è <a id="email" href="mailto:ndsigne@gmail.com">ndsigne@gmail.com</a>`
    },

      by: {
        logoLeft: ["–•—Ä–∞–º","–ó–Ω–∞–º–µ–Ω–Ω—è"],
        logoRight: ["–ü—Ä–∞—Å–≤—è—Ç–æ–π","–ë–∞–≥–∞—Ä–æ–¥–∑—ñ—Ü—ã"],
        subheading: "–í—ñ–∫–∞—Ä—ã—è—Ç —ñ–º—è –°–≤—è—Ç—ã—Ö –ú–∞—Ä—ã—ñ –ü–∞—Ä—ã–∂—Å–∫–∞–π —ñ –ê–ª—è–∫—Å–µ—è –Æ–∂—ã–Ω—Å–∫–∞–≥–∞ ‚Äî –°—É—Å–≤–µ—Ç–Ω—ã –ü–∞—Ç—Ä—ã—è—Ä—Ö–∞—Ç",
        scheduleLabel1: "–†–∞—Å–∫–ª–∞–¥ –Ω–∞–±–∞–∂—ç–Ω—Å—Ç–≤–∞—û",
        currentLabel: "–í–ï–†–ê–°–ï–ù–¨",
        scheduleCurrent: [
          "<strong>6 —Å—É–±–æ—Ç–∞, 18:00</strong>&nbsp;&ndash; –£—Å—è–Ω–æ—á–Ω–∞—è‚Ä¶",
          "<strong>7 –Ω—è–¥–∑–µ–ª—è, 10:30</strong>&nbsp;&ndash; –ë–æ—Å–∫–∞—è –õ—ñ—Ç—É—Ä–≥—ñ—è‚Ä¶"
        ],
        cards: [
          { id:"history", img:"history", title:"–ì—ñ—Å—Ç–æ—Ä—ã—è –ø—Ä—ã—Ö–æ–¥—É", desc:"–†—É—Å–∫–∞—è –¥—ã—è—Å–ø–∞—Ä–∞ —û –ü–∞—Ä—ã–∂—ã.", articleHtml:"<p>–ö–∞—Ä–æ—Ç–∫—ñ —Ç—ç–∫—Å—Ç.</p>" },
          { id:"clergy",  img:"clergy",  title:"–ö–ª—ñ—Ä—ã–∫—ñ —Ö—Ä–∞–º–∞",    desc:"–ù–∞—Å—Ç–∞—è—Ü–µ–ª—å —ñ —Å–≤—è—Ç–∞—Ä.",    articleHtml:"<p>–ö–∞—Ä–æ—Ç–∫—ñ —Ç—ç–∫—Å—Ç.</p>" },
          { id:"school",  img:"school",  title:"–ù—è–¥–∑–µ–ª—å–Ω–∞—è —à–∫–æ–ª–∞", desc:"–†–∞—Å–∫–ª–∞–¥, –≥—Ä—É–ø—ã.",         articleHtml:"<p>–ö–∞—Ä–æ—Ç–∫—ñ —Ç—ç–∫—Å—Ç.</p>" },
          { id:"icons",   img:"icons",   title:"–Ü–∫–æ–Ω—ã",            desc:"–ü–∞—à–∞–Ω–∞–≤–∞–Ω—ã—è –∞–±—Ä–∞–∑—ã.",     articleHtml:"<p>–ö–∞—Ä–æ—Ç–∫—ñ —Ç—ç–∫—Å—Ç.</p>" },
          { id:"white",   img:"white",   title:"–ë–µ–ª—ã —Ä—É—Ö",         desc:"–ü–∞–º—è—Ü—å –ø—Ä–∞ —ç–º—ñ–≥—Ä–∞—Ü—ã—é.",   articleHtml:"<p>–ö–∞—Ä–æ—Ç–∫—ñ —Ç—ç–∫—Å—Ç.</p>" },
          { id:"library", img:"library", title:"–ë—ñ–±–ª—ñ—è—Ç—ç–∫–∞",       desc:"–ö–∞—Ç–∞–ª–æ–≥ —ñ –ø—Ä–∞–≤—ñ–ª—ã.",      articleHtml:"<p>–ö–∞—Ä–æ—Ç–∫—ñ —Ç—ç–∫—Å—Ç.</p>" }
        ],
        footer: `87, boulevard Exelmans, Paris 75016<br />–ú–µ—Ç—Ä–æ: Exelmans (–ª—ñ–Ω—ñ—è 9)<br />‚úâÔ∏è <a id="email" href="mailto:ndsigne@gmail.com">ndsigne@gmail.com</a>`
      },

      ua: {
        logoLeft: ["–•—Ä–∞–º","–ó–Ω–∞–º–µ–Ω–Ω—è"],
        logoRight: ["–ü—Ä–µ—Å–≤—è—Ç–æ—ó","–ë–æ–≥–æ—Ä–æ–¥–∏—Ü—ñ"],
        subheading: "–í—ñ–∫–∞—Ä—ñ–∞—Ç —ñ–º–µ–Ω—ñ –°–≤—è—Ç–∏—Ö –ú–∞—Ä—ñ—ó –ü–∞—Ä–∏–∑—å–∫–æ—ó —Ç–∞ –û–ª–µ–∫—Å—ñ—è –Æ–∂–∏–Ω—Å—å–∫–æ–≥–æ ‚Äî –í—Å–µ–ª–µ–Ω—Å—å–∫–∏–π –ü–∞—Ç—Ä—ñ–∞—Ä—Ö–∞—Ç",
        scheduleLabel1: "–†–æ–∑–∫–ª–∞–¥ –±–æ–≥–æ—Å–ª—É–∂—ñ–Ω—å",
        currentLabel: "–í–ï–†–ï–°–ï–ù–¨",
        scheduleCurrent: [
          "<strong>6 —Å—É–±–æ—Ç–∞, 18:00</strong>&nbsp;&ndash; –í—Å–µ–Ω–æ—à–Ω–∞‚Ä¶",
          "<strong>7 –Ω–µ–¥—ñ–ª—è, 10:30</strong>&nbsp;&ndash; –ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞ –õ—ñ—Ç—É—Ä–≥—ñ—è‚Ä¶"
        ],
        cards: [
          { id:"history", img:"history", title:"–Ü—Å—Ç–æ—Ä—ñ—è –ø–∞—Ä–∞—Ñ—ñ—ó",  desc:"–†–æ—Å—ñ–π—Å—å–∫–∞ –¥—ñ–∞—Å–ø–æ—Ä–∞ –≤ –ü–∞—Ä–∏–∂—ñ.", articleHtml:"<p>–ö–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç.</p>" },
          { id:"clergy",  img:"clergy",  title:"–ö–ª—ñ—Ä–∏–∫–∏ —Ö—Ä–∞–º—É",    desc:"–ù–∞—Å—Ç–æ—è—Ç–µ–ª—å —ñ —Å–≤—è—â–µ–Ω–∏–∫.",       articleHtml:"<p>–ö–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç.</p>" },
          { id:"school",  img:"school",  title:"–ù–µ–¥—ñ–ª—å–Ω–∞ —à–∫–æ–ª–∞",   desc:"–†–æ–∑–∫–ª–∞–¥, –≥—Ä—É–ø–∏.",              articleHtml:"<p>–ö–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç.</p>" },
          { id:"icons",   img:"icons",   title:"–Ü–∫–æ–Ω–∏",            desc:"–®–∞–Ω–æ–≤–∞–Ω—ñ –æ–±—Ä–∞–∑–∏.",             articleHtml:"<p>–ö–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç.</p>" },
          { id:"white",   img:"white",   title:"–ë—ñ–ª–∏–π —Ä—É—Ö",        desc:"–ü–∞–º‚Äô—è—Ç—å –µ–º—ñ–≥—Ä–∞—Ü—ñ—ó.",           articleHtml:"<p>–ö–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç.</p>" },
          { id:"library", img:"library", title:"–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞",       desc:"–ö–∞—Ç–∞–ª–æ–≥ —ñ –ø—Ä–∞–≤–∏–ª–∞.",           articleHtml:"<p>–ö–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç.</p>" }
        ],
        footer: `87, boulevard Exelmans, Paris 75016<br />–ú–µ—Ç—Ä–æ: Exelmans (–ª—ñ–Ω—ñ—è 9)<br />‚úâÔ∏è <a id="email" href="mailto:ndsigne@gmail.com">ndsigne@gmail.com</a>`
      }
    };

    /* ===================== DOM ===================== */
    const langSwitchers = document.querySelectorAll('.lang-switch span');
    const logoLeft = document.getElementById('logo-left');
    const logoRight = document.getElementById('logo-right');
    const subheading = document.getElementById('subheading');

    const scheduleBox   = document.getElementById('schedule-box');
    const scheduleLabel1= document.getElementById('schedule-label-1');
    const currentLabel  = document.getElementById('current-label');
    const monthA        = document.getElementById('month-a');
    const monthB        = document.getElementById('month-b');
    const listCompact   = document.getElementById('schedule-compact');
    const listA         = document.getElementById('list-a');
    const listB         = document.getElementById('list-b');
    const chevron       = document.getElementById('chevron');

    const cardsContainer= document.getElementById('cards');

    const footer = document.getElementById('footer');

    /* ===================== –î–∞—Ç–∞/–≤—Ä–µ–º—è (–¥–ª—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è) ===================== */
    function parseDateTime(text, monthLabel) {
      const months = {
        '–Ø–ù–í–ê–†–¨':0,'–§–ï–í–†–ê–õ–¨':1,'–ú–ê–†–¢':2,'–ê–ü–†–ï–õ–¨':3,'–ú–ê–ô':4,'–ò–Æ–ù–¨':5,'–ò–Æ–õ–¨':6,'–ê–í–ì–£–°–¢':7,'–°–ï–ù–¢–Ø–ë–†–¨':8,'–û–ö–¢–Ø–ë–†–¨':9,'–ù–û–Ø–ë–†–¨':10,'–î–ï–ö–ê–ë–†–¨':11,
        'JANVIER':0,'F√âVRIER':1,'MARS':2,'AVRIL':3,'MAI':4,'JUIN':5,'JUILLET':6,'AO√õT':7,'SEPTEMBRE':8,'OCTOBRE':9,'NOVEMBRE':10,'D√âCEMBRE':11,
        '–°–¢–£–î–ó–ï–ù–¨':0,'–õ–Æ–¢–´':1,'–°–ê–ö–ê–í–Ü–ö':2,'–ö–†–ê–°–ê–í–Ü–ö':3,'–ú–ê–ô':4,'–ß–≠–†–í–ï–ù–¨':5,'–õ–Ü–ü–ï–ù–¨':6,'–ñ–ù–Ü–í–ï–ù–¨':7,'–í–ï–†–ê–°–ï–ù–¨':8,'–ö–ê–°–¢–†–´–ß–ù–Ü–ö':9,'–õ–Ü–°–¢–ê–ü–ê–î':10,'–°–ù–ï–ñ–ê–ù–¨':11,
        '–°–Ü–ß–ï–ù–¨':0,'–õ–Æ–¢–ò–ô':1,'–ë–ï–†–ï–ó–ï–ù–¨':2,'–ö–í–Ü–¢–ï–ù–¨':3,'–¢–†–ê–í–ï–ù–¨':4,'–ß–ï–†–í–ï–ù–¨':5,'–õ–ò–ü–ï–ù–¨':6,'–°–ï–†–ü–ï–ù–¨':7,'–í–ï–†–ï–°–ï–ù–¨':8,'–ñ–û–í–¢–ï–ù–¨':9,'–õ–ò–°–¢–û–ü–ê–î':10,'–ì–†–£–î–ï–ù–¨':11
      };
      const m = text.match(/<strong>(\d+)[^\d]*(?:, )?(\d{1,2}):(\d{2})<\/strong>/i);
      if (!m) return null;
      const day = +m[1], hour = +m[2], minute = +m[3];
      const month = months[(monthLabel||'').toUpperCase()] ?? new Date().getMonth();
      const now = new Date();
      let year = now.getFullYear();
      if (month < now.getMonth() - 1) year += 1;
      return new Date(year, month, day, hour, minute);
    }
    function upcomingOnly(list, monthLabel) {
      const now = new Date();
      return (list||[])
        .map(html => ({ html, dt: parseDateTime(html, monthLabel) }))
        .filter(x => x.dt && x.dt.getTime() >= (now.getTime() - 2*60*60*1000))
        .sort((a,b) => a.dt - b.dt);
    }
    function pickNextN(futA, futB, n=2) {
      return futA.concat(futB).sort((a,b)=>a.dt-b.dt).slice(0,n).map(x=>x.html);
    }

    /* ===================== –†–µ–Ω–¥–µ—Ä –∫–∞—Ä—Ç–æ—á–µ–∫ ===================== */
    function renderCards(lang){
      const items = translations[lang].cards;
      const html = items.map(c=>`
        <article class="card" data-id="${c.id}" tabindex="0" role="button" aria-label="${c.title}">
          <div class="card-media">
            <div class="media-inner">
              <picture>
                <source type="image/webp" srcset="assets/cards/${c.img}.webp">
                <img src="assets/cards/${c.img}.jpg" alt="${c.title}">
              </picture>
            </div>
          </div>
          <div class="card-body">
            <h3>${c.title}</h3>
            <p>${c.desc}</p>
          </div>
        </article>
      `).join('');
      cardsContainer.innerHTML = html;
    }

    /* ===================== –ú–æ–¥–∞–ª: —Ñ–æ—Ç–æ —Å–ª–µ–≤–∞, ¬´–ª–∏—Å—Ç¬ª —Å–∫—Ä–æ–ª–ª, ¬´–ß–∏—Ç–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é¬ª ===================== */
    const modal = document.getElementById('card-modal');
    const modalTitle = document.getElementById('modal-title');
    const modalHero = document.getElementById('modal-hero');
    const modalBody = document.getElementById('modal-body');
    const modalClose = document.getElementById('modal-close');
    let currentLang = 'ru';

    // –î–ª–∏–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –∫–ª–∞–¥–∏ –≤ content/<—è–∑—ã–∫>/<id>.html (–Ω–∞–ø—Ä–∏–º–µ—Ä, content/ru/history.html).
    async function openCard(id){
      const c = translations[currentLang].cards.find(x=>x.id===id);
      if (!c) return;

      modalTitle.textContent = c.title;

      // –ª–∏–¥-—Ñ–æ—Ç–æ —Å–ª–µ–≤–∞ (—É–º–µ–Ω—å—à–µ–Ω–æ)
      const leadHTML = `
        <figure class="lead-figure">
          <picture>
            <source type="image/webp" srcset="assets/cards/${c.img}.webp">
            <img src="assets/cards/${c.img}.jpg" alt="${c.title}">
          </picture>
        </figure>`;

      modalHero.innerHTML = ""; // –≤–µ—Ä—Ö–Ω–∏–π hero –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º

      // –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç
      const articleUrl = `content/${currentLang}/${id}.html`;
      let article = c.articleHtml || "<p>–¢–µ–∫—Å—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.</p>";
      try {
        const res = await fetch(articleUrl, { cache: "no-store" });
        if (res.ok) article = await res.text();
      } catch(e){ /* —Ñ–æ–ª–±—ç–∫ –æ—Å—Ç–∞—ë—Ç—Å—è */ }

      // ¬´–ß–∏—Ç–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é¬ª ‚Äî –ø—Ä–æ–±—É–µ–º pages/<lang>/<id>.html, –∏–Ω–∞—á–µ content/...
      let fullUrl = `pages/${currentLang}/${id}.html`;
      try {
        const head = await fetch(fullUrl, { method:"HEAD" });
        if (!head.ok) throw 0;
      } catch(_){
        fullUrl = articleUrl;
      }

      modalBody.innerHTML = leadHTML + article +
        `<p class="read-more"><a href="${fullUrl}" target="_blank" rel="noopener">–ß–∏—Ç–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é&nbsp;‚Üí</a></p>`;

      modal.classList.add('open');
      document.body.classList.add('modal-open');
      modal.setAttribute('aria-hidden','false');
      modalClose.focus();
    }
    function closeModal(){
      modal.classList.remove('open');
      document.body.classList.remove('modal-open');
      modal.setAttribute('aria-hidden','true');
    }
    modalClose.addEventListener('click', closeModal);
    modal.addEventListener('click', (e)=>{ if (e.target === modal) closeModal(); });
    document.addEventListener('keydown', (e)=>{ if (e.key==='Escape' && modal.classList.contains('open')) closeModal(); });
    cardsContainer.addEventListener('click', e=>{
      const card = e.target.closest('.card'); if (!card) return;
      openCard(card.dataset.id);
    });
    cardsContainer.addEventListener('keydown', e=>{
      if ((e.key==='Enter' || e.key===' ') && e.target.closest('.card')) {
        e.preventDefault();
        openCard(e.target.closest('.card').dataset.id);
      }
    });

    /* ===================== –•—Ä–∞–Ω–∏–ª–∏—â–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è ===================== */
    const STORAGE_KEYS = { ru:'schedule.ru', fr:'schedule.fr', by:'schedule.by', ua:'schedule.ua' };
    const STORAGE_VERSION = 2;
    function saveSeed(lang, t) {
      const data = { _lang:lang, _ver:STORAGE_VERSION,
        logoLeft:t.logoLeft, logoRight:t.logoRight, subheading:t.subheading,
        scheduleLabel1:t.scheduleLabel1, currentLabel:t.currentLabel, scheduleCurrent:t.scheduleCurrent,
        nextLabel:t.nextLabel, scheduleNext:t.scheduleNext, footer:t.footer
      };
      try { localStorage.setItem(STORAGE_KEYS[lang], JSON.stringify(data)); } catch(e){}
      return data;
    }
    function seedLocalStorageOnce() {
      Object.keys(STORAGE_KEYS).forEach(lang=>{
        if (!localStorage.getItem(STORAGE_KEYS[lang])) saveSeed(lang, translations[lang]);
      });
    }
    function loadLangData(lang) {
      const defaults = translations[lang];
      let stored = null;
      try { stored = JSON.parse(localStorage.getItem(STORAGE_KEYS[lang])); } catch(e) { stored = null; }
      if (!stored || stored._ver !== STORAGE_VERSION) return saveSeed(lang, defaults);
      let data = { ...defaults, ...stored };
      ['scheduleCurrent','scheduleNext'].forEach(k=>{
        if (!Array.isArray(data[k]) || data[k].length===0) data[k] = defaults[k];
      });
      return data;
    }

    /* ===================== –§—É—Ç–µ—Ä-–∞–¥–º–∏–Ω–∫–∞ ===================== */
    function injectAdminGearIntoFooter(html) {
      const fixed = html.replace(/75016(?![^<]*>)/, '75016 <a class="admin-gear" href="admin.html" title="–ê–¥–º–∏–Ω">&#9881;</a>');
      footer.innerHTML = fixed;
    }

    /* ===================== –†–µ–Ω–¥–µ—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è ===================== */
    let expanded = false;

    function renderCompact(currentLabelText, nextTwo) {
      currentLabel.style.display = '';
      currentLabel.innerText = currentLabelText;
      listCompact.style.display = '';
      listCompact.innerHTML = nextTwo.length ? ("<li>"+nextTwo.join("</li><li>")+"</li>") : "";

      monthA.style.display = 'none'; listA.style.display = 'none';
      monthB.style.display = 'none'; listB.style.display = 'none';
    }

    function renderFull(labelA, listAItems, labelB, listBItems) {
      currentLabel.style.display = 'none';
      listCompact.style.display = 'none';

      monthA.style.display = '';  monthA.innerText = labelA;
      listA.style.display  = '';  listA.innerHTML = listAItems.length ? ("<li>"+listAItems.join("</li><li>")+"</li>") : "";

      monthB.style.display = '';  monthB.innerText = labelB;
      listB.style.display  = '';  listB.innerHTML = listBItems.length ? ("<li>"+listBItems.join("</li><li>")+"</li>") : "";
    }

    function setLang(lang) {
      currentLang = lang;
      document.querySelectorAll('.lang-switch span').forEach(s=>s.classList.remove('active'));
      document.querySelector(`.lang-switch span[data-lang="${lang}"]`).classList.add('active');

      const data = loadLangData(lang);
      logoLeft.innerHTML  = `<span>${data.logoLeft[0]}</span><span>${data.logoLeft[1]}</span>`;
      logoRight.innerHTML = `<span>${data.logoRight[0]}</span><span>${data.logoRight[1]}</span>`;
      subheading.innerText = data.subheading;
      scheduleLabel1.innerText = data.scheduleLabel1;

      const futCur  = upcomingOnly(data.scheduleCurrent, data.currentLabel);
      const futNext = upcomingOnly(data.scheduleNext,  data.nextLabel);

      if (!expanded) {
        const nextTwo = pickNextN(futCur, futNext, 2);
        renderCompact(data.currentLabel, nextTwo);
      } else {
        renderFull(data.currentLabel, futCur.map(x=>x.html), data.nextLabel, futNext.map(x=>x.html));
      }

      const totalFuture = futCur.length + futNext.length;
      chevron.style.display = totalFuture > 2 ? 'block' : 'none';
      chevron.textContent = expanded ? '‚ñ≤' : '‚ñº';
      scheduleBox.setAttribute('aria-expanded', String(expanded));
      scheduleBox.setAttribute('aria-label', expanded ? '–°–≤–µ—Ä–Ω—É—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ' : '–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å—ë —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ');

      renderCards(lang);
      injectAdminGearIntoFooter(data.footer);
    }

    /* ===================== Init + handlers ===================== */
    seedLocalStorageOnce();

    // –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —è–∑—ã–∫–æ–≤
    langSwitchers.forEach(s => s.onclick = () => { expanded = false; setLang(s.dataset.lang); });

    // –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞—è –∫–æ—Ä–æ–±–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
    scheduleBox.addEventListener('click', (e) => {
      if (e.target.closest('a')) return;
      if (chevron.style.display === 'none') return;
      expanded = !expanded;
      setLang(currentLang);
    });
    scheduleBox.addEventListener('keydown', (e)=>{
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        if (chevron.style.display !== 'none') {
          expanded = !expanded;
          setLang(currentLang);
        }
      }
    });

    setLang('ru');
        /* === –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø—Ä–∏ –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –º–µ—Å—è—Ü–∞ (–¥–ª—è –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤) === */
    (function autoClearAllLangSchedules() {
      // –¢–µ–∫—É—â–∏–π –º–µ—Å—è—Ü –∏ –≥–æ–¥ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      const now = new Date();
      const currentMonth = now.getMonth();  // –æ—Ç 0 –¥–æ 11
      const currentYear = now.getFullYear();

      // –ö–ª—é—á –≤–µ—Ä—Å–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –≤ localStorage
      const key = 'scheduleVersion';
      const stored = JSON.parse(localStorage.getItem(key) || '{}');

      // –ï—Å–ª–∏ –º–µ—Å—è—Ü –∏–ª–∏ –≥–æ–¥ –∏–∑–º–µ–Ω–∏–ª—Å—è ‚Äî –æ—á–∏—â–∞–µ–º –∫—ç—à –ø–æ–ª–Ω–æ—Å—Ç—å—é
      if (stored.month !== currentMonth || stored.year !== currentYear) {
        console.log('üïØÔ∏è –ù–æ–≤—ã–π –º–µ—Å—è—Ü –∏–ª–∏ –≥–æ–¥ ‚Äî –æ—á–∏—â–∞—é —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —É –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤...');
        // –£–¥–∞–ª—è–µ–º –≤—Å–µ —è–∑—ã–∫–æ–≤—ã–µ –∫–ª—é—á–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π
        Object.keys(localStorage).forEach(k => {
          if (k.startsWith('schedule.')) localStorage.removeItem(k);
        });
        // –û–±–Ω–æ–≤–ª—è–µ–º –≤–µ—Ä—Å–∏—é
        localStorage.setItem(key, JSON.stringify({ month: currentMonth, year: currentYear }));
        // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É, —á—Ç–æ–±—ã –ø—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–æ–≤–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
        location.reload();
      }
    })();

  </script>
</body>
</html>
