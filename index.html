<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Храм Знамения Пресвятой Богородицы в Париже</title>

  <!-- SEO -->
  <meta name="description" content="Официальный сайт Храма Знамения Пресвятой Богородицы в Париже. Православное расписание богослужений, адрес, контакты. Église Orthodoxe Notre-Dame Du Signe à Paris." />
  <meta name="keywords" content="храм, православие, Париж, Богородица, Église Orthodoxe, Notre-Dame du Signe, Paris, богослужение, расписание, православный приход, церковь" />
  <link rel="alternate" href="https://znamenie.fr/" hreflang="ru" />
  <link rel="alternate" href="https://znamenie.fr/" hreflang="fr" />
  <link rel="alternate" href="https://znamenie.fr/" hreflang="be" />
  <link rel="alternate" href="https://znamenie.fr/" hreflang="uk" />
  <meta property="og:title" content="Храм Знамения Пресвятой Богородицы в Париже" />
  <meta property="og:description" content="Официальный сайт прихода. Актуальное расписание богослужений, контакты, адрес." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://znamenie.fr/" />
  <meta property="og:image" content="https://znamenie.fr/assets/icon.gif" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Храм Знамения Пресвятой Богородицы в Париже" />
  <meta name="twitter:description" content="Официальный сайт прихода. Актуальное расписание богослужений, контакты, адрес." />
  <meta name="twitter:image" content="https://znamenie.fr/assets/icon.gif" />

  <link rel="icon" href="assets/icon.gif" type="image/gif" />
  <link href="https://fonts.googleapis.com/css2?family=Forum&family=Open+Sans&family=Roboto+Mono&display=swap" rel="stylesheet" />
  <style>
    body { margin:0; padding:0; background:#ede6d9; font-family:'Open Sans',sans-serif; color:#2f2f2f; text-align:center; position:relative; }
    .overlay { padding:2em; max-width:960px; margin:auto; margin-top:5vh; position:relative; }

    .lang-switch { position:absolute; top:1em; right:1em; font-size:.9em; display:flex; gap:.8em; z-index:100; }
    .lang-switch span { cursor:pointer; color:#666; font-weight:600; letter-spacing:.1em; padding:.1em .2em; border-radius:2px; }
    .lang-switch span.active { color:#2f2f2f; font-weight:700; }
    .lang-switch span:hover { color:#a2906f; }

    header { display:flex; flex-direction:column; align-items:center; margin-bottom:2em; position:relative; }
    .logo-block { display:flex; flex-direction:row; justify-content:space-between; width:100%; align-items:center; }
    .logo-text { display:flex; flex-direction:column; justify-content:center; font-family:'Forum',serif; font-size:2.5em; flex:1; }
    .logo-text.left { text-align:right; } .logo-text.right { text-align:left; }
    .logo-text span { display:block; }
    .logo-block img { height:160px; margin:0 1em; }
    .subheading { font-size:1em; margin-top:1em; font-family:'Forum',serif; }

    .notice { font-family:'Roboto Mono',monospace; font-size:3em; margin:2em 0; font-weight:900; letter-spacing:.02em; color:#222; user-select:none; }

    .schedule { text-align:left; background:#fff; padding:1.5em; border-radius:5px; font-size:1em; position:relative; margin:0 auto 3em auto; max-width:600px; }
    .schedule::before { content:""; position:absolute; top:10px; left:10px; right:10px; bottom:10px; border:3px double #a2906f; pointer-events:none; border-radius:5px; box-sizing:border-box; }
    .schedule-label, .schedule-month { font-size:1.5em; font-family:'Forum',serif; font-weight:bold; text-align:center; }
    .schedule-label { margin-top:1.5em; margin-bottom:0; }
    .schedule-month { margin-top:1.5em; margin-bottom:1.2em; }
    .schedule ul { margin:0; padding-left:1.7em; padding-bottom:1.5em; }
    .schedule ul li { text-indent:.9em; transition: color .5s, opacity .5s; }
    .schedule ul li.past { color:#b2b2b2 !important; opacity:.8; }

    .footer { margin-top:2em; font-size:.9em; color:#555; }
    .footer .admin-gear { text-decoration:none; margin-left:.35em; font-size:1em; color:#666; padding:.05em .35em; border-radius:6px; }
    .footer .admin-gear:hover { background:rgba(0,0,0,.06); color:#2f2f2f; }

    @media (max-width:768px){ .logo-block{flex-direction:column;text-align:center} .logo-block img{margin:1em 0} .logo-text.left,.logo-text.right{text-align:center} }
  </style>
</head>
<body>
  <div class="overlay">

    <div class="lang-switch" role="group" aria-label="Переключение языков">
      <span class="active" data-lang="ru">RU</span>
      <span data-lang="fr">FR</span>
      <span data-lang="by">BY</span>
      <span data-lang="ua">UA</span>
    </div>

    <header>
      <div class="logo-block">
        <div class="logo-text left" id="logo-left">
          <span>Храм</span>
          <span>Знамения</span>
        </div>
        <img src="assets/icon.gif" alt="Икона Богородицы" />
        <div class="logo-text right" id="logo-right">
          <span>Пресвятой</span>
          <span>Богородицы</span>
        </div>
      </div>
      <div class="subheading" id="subheading">
        Викариат имени Святых Марии Парижской и Алексия Южинского — Вселенский Патриархат
      </div>
    </header>

    <div class="notice" id="notice">Сайт в разработке</div>

    <div class="schedule">
      <div class="schedule-label" id="schedule-label-1">Расписание богослужений</div>
      <div class="schedule-month" id="current-label">ИЮЛЬ</div>
      <ul id="schedule-current"></ul>
      <div class="schedule-month" id="next-label">АВГУСТ</div>
      <ul id="schedule-next"></ul>
    </div>

    <div class="footer" id="footer">
      87, boulevard Exelmans, Paris 75016<br />
      Métро: Exelmans (ligne 9)<br />
      ✉️ <a id="email" href="mailto:ndsigne@gmail.com">ndsigne@gmail.com</a>
    </div>
  </div>

  <script>
    /* === ВАЖНО: localStorage выключен по умолчанию ===
       Включается только если открыть адрес как .../index.html?preview=1
       Тогда можно тестировать черновики в своём браузере. */
    const USE_LOCAL_STORAGE = location.search.includes('preview=1');
    const STORAGE_VERSION = 1;
    const STORAGE_KEYS = { ru:'schedule.ru', fr:'schedule.fr', by:'schedule.by', ua:'schedule.ua' };

    /* ===================== Переводы (твой исходный блок) ===================== */
    const translations = {
      ru: {
        logoLeft: ["Храм","Знамения"],
        logoRight: ["Пресвятой","Богородицы"],
        subheading: "Викариат имени Святых Марии Парижской и Алексия Южинского — Вселенский Патриархат",
        notice: "Сайт в разработке",
        scheduleLabel1: "Расписание богослужений",
        currentLabel: "ДЕКАБРЬ",
        scheduleCurrent: [
      
        "<strong>3 среда, 18:00<\/strong>&nbsp;&ndash; Всенощная. Канун Введения во храм Пресвятой Богородицы",
        "<strong>4 четверг, 10:00<\/strong>&nbsp;&ndash; Литургия. Введение во храм Пресвятой Богородицы",
        "<strong>6 суббота, 18:00<\/strong>&nbsp;&ndash; Всенощное бдение. 26-я Неделя по Пятидесятнице, глас 1-й",
        "<strong>7 воскресенье, 10:30<\/strong>&nbsp;&ndash; Литургия. Вмц. Екатерина",
        "<strong>9 вторник, 18:00<\/strong>&nbsp;&ndash; Всенощная. Канун праздника иконы Божьей Матери, именуемая «Знамение» Новгородская",
        "<strong>10 среда, 10:00<\/strong>&nbsp;&ndash; Литургия. Престольный праздник иконы «Знамение» Новгородской",
        "<strong>13 суббота, 18:00<\/strong>&nbsp;&ndash; Всенощное бдение. 27-я Неделя по Пятидесятнице, глас 2-й",
        "<strong>14 воскресенье, 10:30<\/strong>&nbsp;&ndash; Литургия. Пророк Наум",
        "<strong>20 суббота, 18:00<\/strong>&nbsp;&ndash; Всенощное бдение. 28-я Неделя по Пятидесятнице, глас 3-й",
        "<strong>21 воскресенье, 10:30<\/strong>&nbsp;&ndash; Литургия. Прп. Патапий",
        "<strong>27 суббота, 18:00<\/strong>&nbsp;&ndash; Всенощное бдение. 29-я Неделя по Пятидесятнице, глас 4-й",
        "<strong>28 воскресенье, 10:30<\/strong>&nbsp;&ndash; Литургия. Неделя Святых Праотец"
    ],
   
        nextLabel: "ЯНВАРЬ",
        scheduleNext: [
          "<strong>2 пятница, 10:00<\/strong>&nbsp;&ndash; Литургия. Праведного Иоанна Кронштадтского",
        "<strong>3 суббота, 18:00<\/strong>&nbsp;&ndash; Всенощное бдение. 30-я Неделя по Пятидесятнице, глас 5-й",
        "<strong>4 воскресенье, 10:30<\/strong>&nbsp;&ndash; Литургия. Неделя Святых Отец (перед Рождеством)",
        "<strong>6 вторник, 09:30<\/strong>&nbsp;&ndash; Навечерие Христова Рождества. Вечерня со чтением паримий. Литургия св. Василия Великого",
        "<strong>6 вторник, 18:00–22:00<\/strong>&nbsp;&ndash; <span style='color:#c00000'>Рождество Христово</span>. Великое повечерие, утреня. Литургия св. Иоанна Златоуста",
        "<strong>7 среда, 10:00<\/strong>&nbsp;&ndash; <span style='color:#c00000'>Рождество Христово</span>. Великая вечерня",
        "<strong>10 суббота, 18:00<\/strong>&nbsp;&ndash; Всенощное бдение. 31-я Неделя по Пятидесятнице, глас 6-й",
        "<strong>11 воскресенье, 10:30<\/strong>&nbsp;&ndash; Литургия. Неделя по Рождестве Христовом. Обрезание Господне. Свт. Василий Великий",
        "<strong>14 среда, 10:00<\/strong>&nbsp;&ndash; Литургия св. Василия Великого. Обрезание Господне Св. Василия Великого",
        "<strong>17 суббота, 18:00<\/strong>&nbsp;&ndash; Всенощная. Навечерие Богоявления. Великое повечерие",
        "<strong>18 воскресенье, 10:15<\/strong>&nbsp;&ndash; Литургия св. Иоанна Златоуста. Великая вечерня со чтением паримий. Навечерие Богоявления",
"<strong>18 воскресенье, 18:00<\/strong>&nbsp;&ndash; Всенощная с литией. Всенощная Богоявления",
       "<strong>19 понедельник, 10:00<\/strong>&nbsp;&ndash; Литургия и Освящение воды. <span style='color:#c00000'>Богоявление</span>. Крещение Господа нашего Иисуса Христа",   
        "<strong>24 суббота, 18:00<\/strong>&nbsp;&ndash; Всенощное бдение. 33-я Неделя по Пятидесятнице, глас 8-й",
        "<strong>25 воскресенье, 10:30<\/strong>&nbsp;&ndash; Литургия. Святая мученица Татиана"
        ],
        footer: `87, boulevard Exelmans, Paris 75016<br />Метро: Exelmans (ligne 9)<br />✉️ <a id="email" href="mailto:ndsigne@gmail.com">ndsigne@gmail.com</a>`
      },
      fr: {
        logoLeft: ["Paroisse","Orthodoxe"],
        logoRight: ["Notre-Dame","du Signe"],
        subheading: "Vicariat Sainte-Marie-de-Paris et Saint-Alexis-d’Ugine – Patriarcat Œcuménique",
        notice: "Site en développement",
        scheduleLabel1: "Horaires des offices",
        currentLabel: "DÉCEMBRE",
        scheduleCurrent: [
          "<strong>3 mercredi, 18:00<\/strong>&nbsp;&ndash; Vigiles. Présentation au Temple de la Très Sainte Mère de Dieu",
        "<strong>4 jeudi, 10:00<\/strong>&nbsp;&ndash; Liturgie. Présentation au Temple de la Très Sainte Mère de Dieu",
        "<strong>6 samedi, 18:00<\/strong>&nbsp;&ndash; Vigiles. 26e Dimanche après la Pentecôte, 1er ton",
        "<strong>7 dimanche, 10:30<\/strong>&nbsp;&ndash; Liturgie. Sainte Catherine d’Alexandrie",
        "<strong>9 mardi, 18:00<\/strong>&nbsp;&ndash; Vigiles. Icône de la Très Sainte Mère de Dieu «Znaménie» de Novgorod",
        "<strong>10 mercredi, 10:00<\/strong>&nbsp;&ndash; Liturgie. Fête paroissiale de l’icône de la Mère de Dieu «Znaménie» de Novgorod",
        "<strong>13 samedi, 18:00<\/strong>&nbsp;&ndash; Vigiles. 27e Dimanche après la Pentecôte, 2e ton",
        "<strong>14 dimanche, 10:30<\/strong>&nbsp;&ndash; Liturgie. Saint Prophète Nahum",
        "<strong>20 samedi, 18:00<\/strong>&nbsp;&ndash; Vigiles. 28e Dimanche après la Pentecôte, 3e ton",
        "<strong>21 dimanche, 10:30<\/strong>&nbsp;&ndash; Liturgie. Saint Patapios",
        "<strong>27 samedi, 18:00<\/strong>&nbsp;&ndash; Vigiles. 29e Dimanche après la Pentecôte, 4e ton",
        "<strong>28 dimanche, 10:30<\/strong>&nbsp;&ndash; Liturgie. Dimanche des Saints Ancêtres du Christ"
        ],
        nextLabel: "JANVIER",
        scheduleNext: [
          "<strong>2 vendredi, 10:00<\/strong>&nbsp;&ndash; Liturgie. Saint Jean de Cronstadt",
        "<strong>3 samedi, 18:00<\/strong>&nbsp;&ndash; Vigiles. 30e Dimanche après la Pentecôte, 5e ton",
        "<strong>4 dimanche, 10:30<\/strong>&nbsp;&ndash; Liturgie. Dimanche avant la Nativité",
        "<strong>6 mardi, 09:30<\/strong>&nbsp;&ndash; Liturgie de Saint Basile le Grand précédée des vêpres avec les lectures des parémies. Liturgie de Saint Jean Chrysostome. Paramonie de la Nativité du Christ",
        "<strong>6 mardi, 18:00–22:00<\/strong>&nbsp;&ndash; <span style='color:#c00000'>Nativité de Notre Seigneur Jesus-Christ.</span> Grandes complies, matines. Liturgie de Saint Jean Chrysostome",
        "<strong>7 mercredi, 10:00<\/strong>&nbsp;&ndash; <span style='color:#c00000'>Nativité de Notre Seigneur Jesus-Christ.</span> Grandes vêpres",
        "<strong>10 samedi, 18:00<\/strong>&nbsp;&ndash; Vigiles. 31e Dimanche après la Pentecôte, 6e ton",
        "<strong>11 dimanche, 10:30<\/strong>&nbsp;&ndash; Liturgie. Après la Nativité du Christ. Circoncision du Seigneur. Saint Basile le Grand",
        "<strong>14 mercredi, 18:00<\/strong>&nbsp;&ndash; Veille de la Théophanie. Grandes vêpres",
        "<strong>17 samedi, 18:00<\/strong>&nbsp;&ndash; Vigiles. Paramonie de la Théophanie. Grandes vêpres et bénédiction des eaux",
        "<strong>18 dimanche, 10:15<\/strong>&nbsp;&ndash; Liturgie de Saint Jean Chrysostome. Grandes vêpres et lecture des parémies. Paramonie de la Théophanie",
"<strong>18 dimanche, 18:00<\/strong>&nbsp;&ndash; Vigiles avec litie. Vigiles de la Théophanie",
"<strong>19 lundi, 10:00<\/strong>&nbsp;&ndash; <span style='color:#c00000'>Théophanie.</span> Liturgie suivie de la bénédiction des eaux. Baptême de Notre Seigneur Jésus-Christ",
        "<strong>24 samedi, 18:00<\/strong>&nbsp;&ndash; Vigiles. 33e Dimanche après la Pentecôte, 8e ton",
        "<strong>25 dimanche, 10:30<\/strong>&nbsp;&ndash; Liturgie. Sainte martyre Tatiana"
        ],
        footer: `87, boulevard Exelmans, Paris 75016<br />Métrо : Exelmans (ligne 9)<br />✉️ <a id="email" href="mailto:ndsigne@gmail.com">ndsigne@gmail.com</a>`
      },
      by: {
        logoLeft: ["Храм","Знамення"],
        logoRight: ["Прасвятой","Багародзіцы"],
        subheading: "Вікарыят імя Святых Марыі Парыжскай і Аляксея Южинскага — Сусветны Патрыярхат",
        notice: "Сайт у распрацоўцы",
        scheduleLabel1: "Расклад набажэнстваў",
        currentLabel: "ЛІСТАПАД",
        scheduleCurrent: [
  "<strong>1 субота, 10:00</strong>&nbsp;&ndash; Заупакойная Літургія і агульная паніхіда<br>(Дзмітрыеўская бацькоўская субота)",
  "<strong>1 субота, 18:00</strong>&nbsp;&ndash; Усяночная<br>Тыдзень 21-ы пасля Пяцідзесятніцы, тон 4-ы",
  "<strong>2 нядзеля, 10:30</strong>&nbsp;&ndash; Літургія<br>Памяць прападобнага Гаўрыіла Самтаврыйскага",
  "<strong>8 субота, 18:00</strong>&nbsp;&ndash; Усяночная<br>Тыдзень 22-і пасля Пяцідзесятніцы, тон 5-ы",
  "<strong>9 нядзеля, 10:30</strong>&nbsp;&ndash; Літургія<br>Памяць мучаніка Нестара Салунскага",
  "<strong>15 субота, 18:00</strong>&nbsp;&ndash; Усяночная<br>Тыдзень 23-і пасля Пяцідзесятніцы, тон 6-ы",
  "<strong>16 нядзеля, 10:30</strong>&nbsp;&ndash; Літургія<br>Абнаўленне храма вялікамучаніка Георгія ў Лідзе",
  "<strong>22 субота, 18:00</strong>&nbsp;&ndash; Усяночная<br>Тыдзень 24-ы пасля Пяцідзесятніцы, тон 7-ы",
  "<strong>23 нядзеля, 10:30</strong>&nbsp;&ndash; Літургія<br>Апосталы ад 70-ці: Эраст, Алімп, Радзіён, Сасіпатр, Кварт і Цярцій",
  "<strong>29 субота, 18:00</strong>&nbsp;&ndash; Усяночная<br>Тыдзень 25-ы пасля Пяцідзесятніцы, тон 8-ы",
  "<strong>30 нядзеля, 10:30</strong>&nbsp;&ndash; Літургія<br>Святціцель Рыгорый, епіскап Неакесарыйскі"
],
        nextLabel: "СНЕЖАНЬ",
        scheduleNext: [
  "<strong>3 серада, 18:00</strong>&nbsp;&ndash; Усяночная<br>Напярэдадні Ўвядзення ў храм Прасвятой Багародзіцы",
  "<strong>4 чацвер, 10:00</strong>&nbsp;&ndash; Літургія<br>Ўвядзенне ў храм Прасвятой Багародзіцы",
  "<strong>6 субота, 18:00</strong>&nbsp;&ndash; Усяночная<br>Тыдзень 26-ы пасля Пяцідзесятніцы, тон 1-ы",
  "<strong>7 нядзеля, 10:30</strong>&nbsp;&ndash; Літургія<br>Вялікамучаніца Кацярына",
  "<strong>13 субота, 18:00</strong>&nbsp;&ndash; Усяночная<br>Тыдзень 27-ы пасля Пяцідзесятніцы, тон 2-і",
  "<strong>14 нядзеля, 10:30</strong>&nbsp;&ndash; Літургія<br>Прарок Наум",
  "<strong>20 субота, 18:00</strong>&nbsp;&ndash; Усяночная<br>Тыдзень 28-ы пасля Пяцідзесятніцы, тон 3-і",
  "<strong>21 нядзеля, 10:30</strong>&nbsp;&ndash; Літургія<br>Прападобны Патапій",
  "<strong>27 субота, 18:00</strong>&nbsp;&ndash; Усяночная<br>Тыдзень 29-ы пасля Пяцідзесятніцы, тон 4-ы",
  "<strong>28 нядзеля, 10:30</strong>&nbsp;&ndash; Літургія<br>Нядзеля Святых Праайцоў"
],
        footer: `87, boulevard Exelmans, Paris 75016<br />Метро: Exelmans (лінія 9)<br />✉️ <a id="email" href="mailto:ndsigne@gmail.com">ndsigne@gmail.com</a>`
      },
      ua: {
        logoLeft: ["Храм","Знамення"],
        logoRight: ["Пресвятої","Богородиці"],
        subheading: "Вікаріат імені Святих Марії Паризької та Олексія Южинського — Вселенський Патріархат",
        notice: "Сайт у розробці",
        scheduleLabel1: "Розклад богослужінь",
        currentLabel: "ЛИСТОПАД",
        scheduleCurrent: [
  "<strong>1 субота, 10:00</strong>&nbsp;&ndash; Заупокійна Літургія та загальна панахида<br>(Димитрієвська батьківська субота)",
  "<strong>1 субота, 18:00</strong>&nbsp;&ndash; Всеношна<br>21-й тиждень після П’ятидесятниці, глас 4-й",
  "<strong>2 неділя, 10:30</strong>&nbsp;&ndash; Літургія<br>Пам’ять преподобного Гавриїла Самтаврійського",
  "<strong>8 субота, 18:00</strong>&nbsp;&ndash; Всеношна<br>22-й тиждень після П’ятидесятниці, глас 5-й",
  "<strong>9 неділя, 10:30</strong>&nbsp;&ndash; Літургія<br>Пам’ять мученика Нестора Солунського",
  "<strong>15 субота, 18:00</strong>&nbsp;&ndash; Всеношна<br>23-й тиждень після П’ятидесятниці, глас 6-й",
  "<strong>16 неділя, 10:30</strong>&nbsp;&ndash; Літургія<br>Освячення храму великомученика Георгія в Лідді",
  "<strong>22 субота, 18:00</strong>&nbsp;&ndash; Всеношна<br>24-й тиждень після П’ятидесятниці, глас 7-й",
  "<strong>23 неділя, 10:30</strong>&nbsp;&ndash; Літургія<br>Апостоли від 70-ти: Ераст, Олімп, Родіон, Сосипатр, Кварт і Тертій",
  "<strong>29 субота, 18:00</strong>&nbsp;&ndash; Всеношна<br>25-й тиждень після П’ятидесятниці, глас 8-й",
  "<strong>30 неділя, 10:30</strong>&nbsp;&ndash; Літургія<br>Святитель Григорій, єпископ Неокесарійський"
],
        nextLabel: "ГРУДЕНЬ",
        scheduleNext: [
  "<strong>3 середа, 18:00</strong>&nbsp;&ndash; Всеношна<br>Напередодні Введення в храм Пресвятої Богородиці",
  "<strong>4 четвер, 10:00</strong>&nbsp;&ndash; Літургія<br>Введення в храм Пресвятої Богородиці",
  "<strong>6 субота, 18:00</strong>&nbsp;&ndash; Всеношна<br>26-й тиждень після П’ятидесятниці, глас 1-й",
  "<strong>7 неділя, 10:30</strong>&nbsp;&ndash; Літургія<br>Великомучениця Катерина",
  "<strong>13 субота, 18:00</strong>&nbsp;&ndash; Всеношна<br>27-й тиждень після П’ятидесятниці, глас 2-й",
  "<strong>14 неділя, 10:30</strong>&nbsp;&ndash; Літургія<br>Пророк Наум",
  "<strong>20 субота, 18:00</strong>&nbsp;&ndash; Всеношна<br>28-й тиждень після П’ятидесятниці, глас 3-й",
  "<strong>21 неділя, 10:30</strong>&nbsp;&ndash; Літургія<br>Преподобний Патапій",
  "<strong>27 субота, 18:00</strong>&nbsp;&ndash; Всеношна<br>29-й тиждень після П’ятидесятниці, глас 4-й",
  "<strong>28 неділя, 10:30</strong>&nbsp;&ndash; Літургія<br>Неділя Святих Праотців"
],
        footer: `87, boulevard Exelmans, Paris 75016<br />Метро: Exelmans (лінія 9)<br />✉️ <a id="email" href="mailto:ndsigne@gmail.com">ndsigne@gmail.com</a>`
      }
    };

    /* ===================== DOM ===================== */
    const langSwitchers = document.querySelectorAll('.lang-switch span');
    const logoLeft = document.getElementById('logo-left');
    const logoRight = document.getElementById('logo-right');
    const subheading = document.getElementById('subheading');
    const notice = document.getElementById('notice');
    const scheduleLabel1 = document.getElementById('schedule-label-1');
    const currentLabel = document.getElementById('current-label');
    const nextLabel = document.getElementById('next-label');
    const scheduleCurrent = document.getElementById('schedule-current');
    const scheduleNext = document.getElementById('schedule-next');
    const footer = document.getElementById('footer');

    /* ===================== Подсветка прошедших дат ===================== */
    function parseDateTime(text, monthLabel) {
      const months = {
        'ЯНВАРЬ':0,'ФЕВРАЛЬ':1,'МАРТ':2,'АПРЕЛЬ':3,'МАЙ':4,'ИЮНЬ':5,'ИЮЛЬ':6,'АВГУСТ':7,'СЕНТЯБРЬ':8,'ОКТЯБРЬ':9,'НОЯБРЬ':10,'ДЕКАБРЬ':11,
        'JANVIER':0,'FÉVRIER':1,'MARS':2,'AVRIL':3,'MAI':4,'JUIN':5,'JUILLET':6,'AOÛT':7,'SEPTEMBRE':8,'OCTOBRE':9,'NOVEMBRE':10,'DÉCEMBRE':11,
        'СТУДЗЕНЬ':0,'ЛЮТЫ':1,'САКАВІК':2,'КРАСАВІК':3,'МАЙ':4,'ЧЭРВЕНЬ':5,'ЛІПЕНЬ':6,'ЖНІВЕНЬ':7,'ВЕРАСЕНЬ':8,'КАСТРЫЧНІК':9,'ЛІСТАПАД':10,'СНЕЖАНЬ':11,
        'СІЧЕНЬ':0,'ЛЮТИЙ':1,'БЕРЕЗЕНЬ':2,'КВІТЕНЬ':3,'ТРАВЕНЬ':4,'ЧЕРВЕНЬ':5,'ЛИПЕНЬ':6,'СЕРПЕНЬ':7,'ВЕРЕСЕНЬ':8,'ЖОВТЕНЬ':9,'ЛИСТОПАД':10,'ГРУДЕНЬ':11
      };
      const m = text.match(/<strong>(\d+)[^\d]*(?:, )?(\d{1,2}):(\d{2})<\/strong>/i);
      if (!m) return null;
      const day = +m[1], hour = +m[2], minute = +m[3];
      const month = months[(monthLabel||'').toUpperCase()] ?? new Date().getMonth();
      const now = new Date();
      let year = now.getFullYear();
      if (month < now.getMonth() - 1) year += 1;
      return new Date(year, month, day, hour, minute);
    }
    function renderSchedule(list, monthLabel) {
      const now = new Date();
      return (list||[]).map(text=>{
        const dt = parseDateTime(text, monthLabel);
        const isPast = dt ? (now - dt) > 2*60*60*1000 : false;
        return `<li${isPast?' class="past"':''}>${text}</li>`;
      }).join('');
    }

    /* ===================== Работа с хранилищем (только для предпросмотра) ===================== */
    function readFromStorage(lang) {
      if (!USE_LOCAL_STORAGE) return null;
      try {
        const raw = localStorage.getItem(STORAGE_KEYS[lang]);
        if (!raw) return null;
        const obj = JSON.parse(raw);
        if (!obj || obj._ver !== STORAGE_VERSION) return null;
        return obj;
      } catch { return null; }
    }
    function writeToStorage(lang, data) {
      if (!USE_LOCAL_STORAGE) return;
      try {
        localStorage.setItem(STORAGE_KEYS[lang], JSON.stringify({ _lang:lang, _ver:STORAGE_VERSION, ...data }));
      } catch {}
    }
    function seedStorageIfEmpty() {
      if (!USE_LOCAL_STORAGE) return;
      Object.keys(STORAGE_KEYS).forEach(lang=>{
        if (!readFromStorage(lang)) writeToStorage(lang, translations[lang]);
      });
    }

    /* ===================== Шестерёнка в футере ===================== */
    function injectAdminGearIntoFooter() {
      footer.innerHTML = footer.innerHTML.replace(
        /75016(?![^<]*>)/,
        '75016 <a class="admin-gear" href="admin.html" title="Админ">&#9881;</a>'
      );
    }

    /* ===================== Рендер языка ===================== */
    function setLang(lang) {
      document.querySelectorAll('.lang-switch span').forEach(s=>s.classList.remove('active'));
      document.querySelector(`.lang-switch span[data-lang="${lang}"]`).classList.add('active');

      const base = translations[lang];
      const stored = readFromStorage(lang);
      const data = stored ? { ...base, ...stored } : base;

      logoLeft.innerHTML  = `<span>${data.logoLeft[0]}</span><span>${data.logoLeft[1]}</span>`;
      logoRight.innerHTML = `<span>${data.logoRight[0]}</span><span>${data.logoRight[1]}</span>`;
      subheading.innerText = data.subheading;
      notice.innerText = data.notice;
      scheduleLabel1.innerText = data.scheduleLabel1;
      currentLabel.innerText = data.currentLabel;
      nextLabel.innerText = data.nextLabel;
      scheduleCurrent.innerHTML = renderSchedule(data.scheduleCurrent, data.currentLabel);
      scheduleNext.innerHTML = renderSchedule(data.scheduleNext, data.nextLabel);
      footer.innerHTML = data.footer;

      injectAdminGearIntoFooter();
    }

    /* ===================== Init ===================== */
    seedStorageIfEmpty();                 // срабатывает только при ?preview=1
    langSwitchers.forEach(s => s.onclick = () => setLang(s.dataset.lang));
    setLang('ru');
  </script>
</body>
</html>
